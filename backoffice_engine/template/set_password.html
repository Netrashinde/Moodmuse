{% extends 'header_footer.html' %}
{% load static %}
{% block content %}

<div id="app">
  <section class="hero-section text-center" style="background: #ffffff; padding: 60px 20px;">
    <h2 style="color: #000000;">Set New Password</h2>
    <p style="color: #162e57;">Enter the OTP sent to your email and set a new password</p>

    <div class="container">
      <div class="row justify-content-center">
        <div class="col-lg-6">
          <div class="card">
            <div class="card-body">
              <form method="POST" action="/set_password/" class="needs-validation" novalidate>
                {% csrf_token %}
                
                <div class="form-group">
                  <label for="otp" class="text-dark">Enter OTP</label>
                  <input id="otp" type="text" class="form-control" name="otp" maxlength="6" placeholder="Enter 6-digit OTP" required>
                  <div class="invalid-feedback">
                    Please enter the OTP.
                  </div>
                </div>

                <div class="form-group">
                  <label for="password" class="text-dark">New Password</label>
                  <input id="password" type="password" class="form-control pwstrength" name="password" required>
                  <div class="invalid-feedback">
                    Please enter a new password.
                  </div>
                </div>

                <div class="form-group">
                  <label for="password-confirm" class="text-dark">Confirm Password</label>
                  <input id="password-confirm" type="password" class="form-control" name="confirm-password" required>
                  <div class="invalid-feedback">
                    Please confirm your password.
                  </div>
                </div>

                <button type="submit" class="btn btn-danger btn-block">Set Password</button>

              </form>

              {% if messages %}
              <div class="mt-3">
                {% for message in messages %}
                <div class="alert alert-{{ message.tags }}">{{ message }}</div>
                {% endfor %}
              </div>
              {% endif %}

            </div>
          </div>

          <a href="/Login/" class="btn btn-link mt-3">Back to Login</a>
        </div>
      </div>
    </div>
  </section>
</div>

{% endblock %}
